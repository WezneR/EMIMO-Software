=== ADC Signal Analysis Results ===
Channel | Amplitude | Init Phase (deg) | Init Phase (rad)
--------|-----------|------------------|------------------
  ADC0  |    666.06 |       -50.78     |      -0.8863
  ADC1  |    678.52 |       -56.80     |      -0.9914
  ADC2  |    663.64 |       -50.01     |      -0.8729
  ADC3  |    669.41 |        88.72     |       1.5485
  ADC4  |    677.41 |       -54.11     |      -0.9445
  ADC5  |    682.12 |       -53.50     |      -0.9337
  ADC6  |    665.22 |       -56.13     |      -0.9797
  ADC7  |    688.59 |        89.76     |       1.5666
=====================================================

x = [51500 47607 48438 3502 49038 3403 2680 2702]

y = [-50.78 -56.80 -50.01  88.72 -54.11 -53.50 -56.13  89.76]

dy = y - (-50)

new_x = uint16(mod(x - k*dy, 65536))

   51608   48548   48439   49839   49607    3887    3528   48895

   （结果3和7校的更偏了）

=== ADC Signal Analysis Results ===
Channel | Amplitude | Init Phase (deg) | Init Phase (rad)
--------|-----------|------------------|------------------
  ADC0  |    665.29 |       -50.52     |      -0.8817
  ADC1  |    677.51 |       -51.29     |      -0.8952
  ADC2  |    662.75 |       -50.66     |      -0.8842
  ADC3  |    669.10 |       -51.50     |      -0.8989
  ADC4  |    677.32 |       -52.11     |      -0.9095
  ADC5  |    681.22 |       -48.70     |      -0.8500
  ADC6  |    664.48 |       -48.71     |      -0.8501
  ADC7  |    687.73 |       -44.79     |      -0.7817
=====================================================

x = [51608 48548 48439 3500 49607 3887 3528 3500 ]

y = [-50.52 -51.29 -50.66 -51.50 -52.11 -48.70 -48.71 -44.79 ]

dy = y - (-50)

new_x = uint16(mod(x - k*dy, 65536))

（这里只用了5,6,7，确实校准到-50了
但是发现uramCap和trig_in触发居然导致3和7的结果不一样。
我就说为什么第一次校准结果就3和7不一样。而且两次测试分别用3500和22000对3的相位居然一样。
看来serial_sync_cap或者GPIO哪里可能有很大的问题。

下面是uramCao校准好之后，用trig_in触发测量的结果：
）
=== ADC Signal Analysis Results ===
Channel | Amplitude | Init Phase (deg) | Init Phase (rad)
--------|-----------|------------------|------------------
  ADC0  |    664.61 |       -49.70     |      -0.8675
  ADC1  |    677.23 |       -51.93     |      -0.9064
  ADC2  |    662.70 |       -50.13     |      -0.8750
  ADC3  |    669.10 |        90.59     |       1.5811
  ADC4  |    676.95 |       -50.29     |      -0.8777
  ADC5  |    679.20 |       -49.38     |      -0.8618
  ADC6  |    664.64 |       -51.36     |      -0.8964
  ADC7  |    684.40 |        91.57     |       1.5981
=====================================================

x= [51608 48548 48439 3500 49607 3707 3349 2774 ]

y = [-49.70 -51.93 -50.13  90.59 -50.29 -49.38 -51.36  91.57 ]

dy = y - (-50)

new_x = uint16(mod(x - k*dy, 65536))

（校准结果还行，±7°左右。
板2校准结束，下面是板1的trig_in测量结果）

=== ADC Signal Analysis Results ===
Channel | Amplitude | Init Phase (deg) | Init Phase (rad)
--------|-----------|------------------|------------------
  ADC0  |    643.71 |       -51.64     |      -0.9013
  ADC1  |    694.54 |       -55.57     |      -0.9699
  ADC2  |    671.27 |       -52.98     |      -0.9246
  ADC3  |    682.02 |        89.10     |       1.5551
  ADC4  |    700.89 |       -51.78     |      -0.9037
  ADC5  |    701.30 |       -52.60     |      -0.9180
  ADC6  |    685.13 |       -52.08     |      -0.9089
  ADC7  |    683.18 |        87.35     |       1.5245
=====================================================

x = [0 400 400 21000 1000 21200 20870 20200]

y = [-51.64 -55.57 -52.98  89.10 -51.78 -52.60 -52.08  87.35 ]

dy = y - (-50)

new_x = uint16(mod(x - k*dy, 65536))
new_x =

  1×8 uint16 行向量

    227    1171     812    1749    1246   21560   21158    1191

（校准结果还行，±7°左右。但是k=138可能有点小了，现在3和7是-44，还可以再往-50靠点）



sample.csv:

10000,35000,44000,50000,53000,51500,3502,22701

113.7,-169.7,-107.2,-64.4,-42.2,-52.5,88.7,83.7

0x40a0,0x4700,0x4500,,,,,

649,708,689,,,,,
